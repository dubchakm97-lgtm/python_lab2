1: ls []
2: ls []
3: ls []
4: ls []
5: l []
6: a []
7: h []
8: j []
9: 4 ['r']
10: ls []
11: ls ['-l']
12: cd []
13: ls []
14: cd []
15:  
16: cd []
17: ls []
18: ls ['-l']
19: *no command*
20: *no command*
21: h []
22: ls []
23: cd []
24: h []
25: *no command*
26: *no command*
27: *no command*
28: ls []
29: cd []
30: cd []
31: cd []
32: cd []
33: ls ['-l']
34: cd []
35: ls ['-l']
36: ды ['-д']
37: ls ['-l']
38: history ['4']
39: history ['4']
40: history ['4']
41: ршыещкн ['1']
42: history ['4']
43: historry ['20']
44: history ['20']
45: *no command*
46: *no command*
47: *no command*
48: *no command*
49: *no command*
50: ls []
51: cd []
52: ls []
53: ls []
54: cd []
55: ls []
56: cd ['Desktop']
57: ls []
58: rm ['-r', 'TRASH']
59: cd []
60: cd ['Desktop']
61: ls []
62: rm ['2.jpg']
63: cd []
64: ls []
65: cd ['Desktop']
66: ls []
67: rm ['3.jpg']
68: ls []
69: cd []
70: cd ['Desktop']
71: ls []
72: rm ['1.jpg']
73: undo []
74: cd []
75: undo []
76: undo []
77: undo []
78: гтвщ []
79: undo []
80: undo []
81: ls []
82: cd []
83: undo ['rm']
84: undo ['rm']
85: cd []
86: cd ['Desktop']
87: ls []
88: rm ['4.jpg']
89: undo ['rm']
90: ls []
91: cd []
92: cd ['Desktop']
93: ls []
94: rm ['7.jpg']
95: undo ['rm']
96: cd []
97: cd ['Desktop']
98: ls []
99: rm ['1.jpg']
100: undo []
101: ls []
102: mv ['л.jpg', '.trash']
103: cd []
104: cd ['Desktop']
105: ls []
106: mv ['1.jpg', 'src']
107: ды []
108: ls []
109: cd []
110: cd ['Desktop']
111: ls []
112: mv ['3.jpg', 'src']
113: ls []
114: cd []
115: cd ['Desktop']
116: ls []
117: mv ['2.jpg', 'python_lab2']
118: undo []
119: mv ['2.jpg', 'python_lab2']
120: undo []
121: ls []
122: mv ['2.jpg', 'python_lab2']
123: undo []
124: cd []
125: cd ['Desktop']
126: mv ['2.jpg', 'python_lab2']
127: undo []
128: mv ['2.jpg', 'src']
129: cd []
130: cd ['Desktop']
131: ls []
132: rm ['7.jpg']
133: undo []
134: mv ['7.jpg', 'src']
135: undo []
136: mv ['7.jpg', 'src']
137: undo []
138: cd []
139: cd ['Desktop']
140: ls []
141: mv ['8.jpg', 'KANYE_WEST']
142: undo []
143: mv ['8.jpg', 'KANYE_WEST.jpg']
144: undo []
145: mv ['8.jpg', 'KANYE_WEST']
146: ls []
147: undo []
148: *no command*
149: *no command*
150: *no command*
151: zip ['g', 'h', 'z.zip']
152: cd []
153: ls []
154: cd ['Desktop']
155: from ['ls', 'import', 'ls']
156: from ['cd', 'import', 'cd']
157: from ['cat', 'import', 'cat']
158: from ['cp', 'import', 'cp']
159: from ['mv', 'import', 'mv']
160: from ['rm', 'import', 'rm']
161: from ['log', 'import', 'log_message']
162: from ['pathlib', 'import', 'Path']
163: from ['history', 'import', 'history']
164: from ['command_undo', 'import', 'undo']
165: from ['archives', 'import', 'zip_folder,', 'unzip_file,', 'tar_folder,', 'untar_file']
166: import ['shlex']
167: from ['grep', 'import', 'grep']
168: *no command*
169: *no command*
170: HISTORY_FILE ['=', 'Path(__file__).resolve().parents[1]', '/', "'.history.txt'"]
171: *no command*
172: def ['main()', '->', 'None:']
173: """ []
174: Основной ['цикл', 'работы', 'программы,', 'принимает', 'на', 'вход', 'команды', 'от', 'пользователя,', 'вызывает', 'функции-команды']
175: :return: ['None']
176: """ []
177: while ['True:']
178: with ["HISTORY_FILE.open('r',", "encoding='utf-8')", 'as', 'h:']
179: lines ['=', 'h.readlines()']
180: for ['row', 'in', 'lines:']
181: if ['len(row)', '!=', '0:']
182: count_of_commands ['=', "''"]
183: for ['alp', 'in', 'lines[-1]:']
184: if ['alp.isdigit()==True:']
185: count_of_commands ['+=', 'alp']
186: else: []
187: break []
188: count_of_commands ['=', 'int(count_of_commands)', '+', '1']
189: break []
190: else: []
191: count_of_commands ['=', '1']
192: try: []
193: line ['=', "input('$", "')"]
194: parts ['=', 'line.split()']
195: if ['len(parts)', '==', '0:']
196: print('Введите ["команду')"]
197: log_message('ERROR: ['no', 'command', 'was', "there')"]
198: with ["HISTORY_FILE.open('a',", "encoding='utf-8')", 'as', 'h:']
199: h.write(f'{count_of_commands}: ['*no', "command*\\n')"]
200: continue []
201: main_p ['=', 'parts[0]']
202: args ['=', 'parts[1:]']
203: if ['main_p', '==', '"ls":']
204: ls(args) []
205: elif ['main_p', '==', '"cd":']
206: cd(args) []
207: elif ['main_p', '==', '"cat":']
208: cat(args) []
209: elif ['main_p', '==', '"cp":']
210: cp(args) []
211: elif ['main_p', '==', '"mv":']
212: mv(args) []
213: elif ['main_p', '==', '"rm":']
214: rm(args) []
215: elif ['main_p', '==', '"undo":']
216: undo() []
217: elif ['main_p', '==', '"history":']
218: history(args) []
219: elif ['main_p', '==', '"zip":']
220: zip_folder(args) []
221: elif ['main_p', '==', '"unzip":']
222: unzip_file(args) []
223: elif ['main_p', '==', '"tar":']
224: tar_folder(args) []
225: elif ['main_p', '==', '"untar":']
226: untar_file(args) []
227: elif ['main_p', '==', '"grep":']
228: grep(shlex.split(' ["'.join(args)))"]
229: elif ['main_p', 'in', "['exit',", '"quit"]:']
230: break []
231: else: []
232: log_message(f'ERROR: ['unknown', 'command', "{main_p}')"]
233: print(f"Неизвестная ['команда', '{main_p}")']
234: with ["HISTORY_FILE.open('a',", "encoding='utf-8')", 'as', 'h:']
235: h.write(f'{count_of_commands}: ['{main_p}', "{args}\\n')"]
236: except ['(FileNotFoundError,', 'NotADirectoryError,', 'IsADirectoryError,', 'PermissionError,', 'ValueError,', 'OSError)', 'as', 'e:']
237: print(f'Ошибка! ["{e}')"]
238: *no command*
239: *no command*
240: if ['__name__', '==', "'__main__':"]
241: main() []
242: except ['UnicodeDecodeError', 'as', 'e:']
243: log_message(f"ERROR: ['grep', '–', 'cannot', 'decode', '{file}', 'as', 'utf-8', '({e})")grep', '-r', '"with"', 'python_lab2']
244: cd []
245: cd ['Desktop']
246: ls []
247: grep ['-r', '"with"', 'python_lab2']
248: cd ['python_lab2']
249: grep ['-r', '"with"', 'src']
250: grep ['"ls"', '.history.txt']
251: grep ['-i', '"WITH"', 'src/archives.py']
252: cd []
253: cd ['Desktop']
254: cd ['python_lab2']
255: grep ['-ri', '"OPEN"', 'src']
256: ls ['-l']
257: cd []
258: undo []
259: pwd []
260: cd ['Desktop']
261: ls []
262: rm ['7.jpg']
263: ls []
264: ls ['-l']
265: undo []
266: grep ['-r', '"WITH"', 'python_lab2']
267: ls []
268: cd []
269: cd ['Desktop']
270: ls []
271: zip ['"PythonProject"', '"KANYE.zip"']
272: unzip ['"KANYE.zip"']
273: r []
274: r []
275: r []
276: r []
277: *no command*
278: r []
279: r []
280: r []
281: r []
282: ls []
283: zip ['"DESKTop', 'p"', '"ye.zip"']
284: tar ['"TRASH"', '"TRASH.tar.gz"']
285: untar ['"TRASH.tar.gz"']
286: l []
287: ls []
288: cd []
289: cd ['Desktop']
290: ls []
291: rm ['ye.zip']
292: undo []
293: mv ['ye.zip', 'python_lab2']
294: ls []
295: cd []
296: cd ['Desktop']
297: ls []
298: mv ['4.jpg', 'DESKTop', 'p']
299: undo []
300: ls []
301: cd []
302: cd ['Desktop']
303: ls []
304: cd []
305: cd ['Desktop']
306: l []
307: ls []
308: rm ['-r', '"DESKTop', 'p"']
309: undo []
310: cd []
311: cd ['Desktop']
312: ls []
313: rm ['-r', "'TRASH'"]
314: undo []
315: ls []
316: ls []
317: ls []
318: ls ['-l']
319: cd []
320: cd ['Desktop']
321: l []
322: ss []
323: ls []
324: cp ['-r', '"DESKTop', 'p"', '"WWW"']
325: undo []
326: ды []
327: ls []
328: zip ['"TRASH"', '"WWW.zip"']
329: inzip ['"WWW.zip"']
330: nzip ['"WWW.zip"u']
331: unzip ['"WWW.zip"']
332: grep ['-ri', '"WITH"', 'python_lab2']
333: history ['5']
334: ды []
335: ls []
336: cd []
337: ls ['-l']
338: rm ['.viminfo']
339: undo []
340: cd []
341: ls []
342: rm ['-r', "'.cache'"]
343: undo []
344: cd []
345: ls []
346: cd ['Desktop']
347: ls []
348: rm ['"tshrhcrrsenc1.png"']
349: undo []
350: cd []
351: cd ['Desktop']
352: ls ['-l']
353: rm ['"TRASH.tar.gz"']
354: ls []
355: undo []
356: cd []
357: cd ['Desktop']
358: ls ['-l']
359: rm ['-r', '"DESKTop', 'p"']
360: ls []
361: ls ['-l']
362: undo []
363: cd []
364: cd ['Desktop']
365: ls []
366: ls []
367: rm ['-r', '"DESKTop', 'p"']
368: ls []
369: -l []
370: sl []
371: ls ['-l']
372: ysl []
373: ls ['-l']
374: undo []
375: cd []
376: cd ['Desktop']
377: ls ['-l']
378: rm ['-r', '"DESKTop', 'p"']
379: ls []
380: ysl []
381: ls ['-l']
382: kanye ['west']
383: undo []
384: cd []
385: cd ['Desktop']
386: ls []
387: rm ['-r', "'DESKTop", "p'"]
388: KANYE_WEST []
389: undo []
390: cd []
391: cd ['Desktop']
392: ls []
393: rm ['-r', '"DESKTop', 'p"']
394: undo []
395: cd []
396: cd ['Desktop']
397: rm ['-r', '"DESKTop', 'p"']
398: undo []
399: ls []
400: cd []
401: cd ['Desktop']
402: ls []
403: rm ['-r', '"DESKTop', 'p"']
404: undo []
405: cd []
406: cd ['Desktop']
407: ls []
408: rm ['-r', '"DESKTop', 'p"']
409: св []
410: cd []
411: cd ['Desktop']
412: ls []
413: rm ['-r', '"DESKTop', 'p"']
414: undo []
415: cd []
416: cd ['Desktop']
417: ls []
418: mv ['"KANYE.zip"', '"WEST.zip"']
419: undo []
420: mv ['"KANYE.zip"', '"DESKTop', 'p"']
421: undo []
422: cd []
423: cd ['Desktop']
424: ls []
425: mv ['"WWW.zip"', '"YE.zip"']
426: undo []
427: mv ['"WWW.zip"', '"DESKTop', 'p"']
428: undo []
429: mv ['"DESKTop', 'p"', '"python_lab2"']
430: undo []
431: mv ['"WWW.zip"', '"DESKTop', 'p"', 't']
432: undo []
433: mv ['WWW.zip', '"DESKTop', 'p"']
434: undo []
435: mv ['"WWW.zip"', 'DESKTop', 'p']
436: cd []
437: cd ['Desktop']
438: ls []
439: cp ['"TRASH.tar.gz"', '"YE"']
440: undo []
441: cp ['"TRASH.tar.gz"', '"DESKTop', 'p"']
442: undo []
443: cp ['-r', '"DESKTop', 'p"', '"WWW"']
444: undo []
445: cp ['-r', '"DESKTop', 'p"', '"WWW"']
446: undo []
447: cd []
448: cd ['Desktop']
449: ls []
450: cp ['"TRASH.tar.gz"', '"YE"']
451: undo []
452: cp ['-r', '"TRASH.tar.gz"', '"YE"']
453: cp ['-r', '"TRASH.tar.gz"', '"DESKTop', 'p"']
454: undo []
455: cp ['-r', '"PythonProject"', '"DESKTop', 'p"']
456: undo []
457: cd []
458: cd ['Desktop']
459: cp ['-r', '"TRASH"', '"DESKTop', 'p"']
460: undo []
461: cp ['-r', '"TRASH"', '"DESKTop', 'p"']
462: undo []
463: cp ['-r', '"TRASH"', '"DESKTop', 'p"']
464: cd []
465: cd ['Desktop']
466: ls []
467: cp ['-r', '"TRASH"', '"DESKTop', 'p"']
468: cd []
469: cd ['Desktop']
470: cp ['-r', '"TRASH"', '"DESKTop', 'p"']
471: undo []
472: cp ['-r', '"TRASH"', '"DESKTop', 'p"']
473: undo []
474: cp ['"DESKTop"', '"DESKTop', 'p"']
475: undo []
476: cp ['-r', '"DESKTop"', '"YE"']
477: undo []
478: ls []
479: cd []
480: cd ['Desktop']
481: cp ['-r', 'TRASH', 'DESKTop p']
482: undo []
483: ls []
484: ls []
485: kanye []
484: 0 []
485: rm ['4.jpg']
486: cd []
487: cd ['Desktop']
488: ls []
489: rm ['8.jpg']
490: cd []
491: cd ['Desktop']
492: ls []
493: rm ['tes.html']
494: undo []
495: ls ['/Users/aleksandr/Desktop/python_lab2/.trash']
496: cd []
497: cd ['/Users/aleksandr/Desktop/python_lab2/.trash']
498: ls []
499: ls []
500: kanye []
501: ls []
502: cd []
503: ls []
504: ls []
505: kanye []
506: ls []
507: kanye []
508: ls []
509: kanye []
510: ls []
511: kanye []
512: ls []
513: ls []
514: history ['5']
515: cd []
516: cd ['Desktop']
517: ls []
518: rm ['nasty.html']
519: undo []
520: ls []
521: kanye []
522: ls []
523: kanye []
524: ls []
525: kanye []
526: ls []
527: kanye []
528: ls []
529: kanye []
530: ls []
531: kanye []
532: ls []
533: kanye []
534: ls []
535: kanye []
536: ls []
537: kanye []
538: ls []
539: kanye []
540: ls []
541: kanye []
542: ls []
543: kanye []
544: ls []
545: kanye []
546: ls []
547: kanye []
548: ls []
549: cd []
550: cd ['Desktop']
551: ls []
552: cd ['..']
553: cd ['..']
554: cd []
555: cd ['DEsktop']
556: cd ['..']
557: ls ['-a']
558: ls ['-ae']
559: ды []
560: ls []
561: ls []
562: ls []
563: ls []
564: cd ['..']
565: ды []
566: ls []
567: ls ['-l']
568: -l ['-a']
569: ls ['-a']
570: ls ['-la']
571: fr []
572: rx []
573: *no command*
574: *no command*
575: ls []
576: ды []
577: *no command*
578: fdv []
579: ls []
580: ls []
581: kanye []
582: cd ['..']
583: cd ['..']
584: cd ['..']
585: cd ['Desktop']
586: ls []
587: cp ['шо.jpg', 'ye']
588: undo []
589: ls []
590: cd ['..']
591: cd ['..']
592: ls []
593: cd ['..']
594: cd ['Desktop']
595: ls []
596: cp ['шо.jpg', 'r']
597: undo []
598: cp ['шо.jpg', 'r.png']
599: mv ['шо.jpg', 'ye']
600: undo []
601: rm ['шо.jpg']
602: undo []
603: rm ['шо.jpg']
604: ls []
605: rm ['црфе.jpg']
606: undo []
607: ls []
608: cd ['..']
609: cd ['..']
610: cd ['..']
611: cd ['Desktop']
612: ls []
613: rm ['сфера2.jpg']
614: undo []
615: cd []
616: cd ['Downloads']
617: ls []
618: rm ['студчек.pptx']
619: undo []
620: cd []
621: cd ['Downloads']
622: ls []
623: rm ['проверка1.docx']
624: undo []
625: ls []
626: rm ['__init__.py']
627: undo []
628: ls []
629: kanye []
630: ls []
631: ls ['main.py']
632: ls ['main.py', 'log.py']
633: ls ['mad']
634: ls []
635: ls ['main.py']
636: ls ['main.py', 'log.py']
637: cd ['..']
638: cd ['.']
639: cd ['..']
640: ls []
641: cp ['-r', 'сфера1.jpg', 'fake']
642: cd ['..']
643: cd ['..']
644: ls []
645: cp ['-r', 'сфера1.jpg', 'fake']
646: ls []
647: cp ['сфера1.jpg', 'GGG']
648: cp ['сфера1.jpg', 'fAkE']
649: cp ['сфера1.jpg', 'QQQ']
650: sl []
651: ls []
652: zip ['зщ.jpg']
653: zip ['зщ.jpg', 'WWW.zip']
654: ls []
655: zip ['зщ.jpg', 'WWW']
656: zip ['_test_', 'WWW']
657: zip ['_test_', 'WWW.zip']
658: unzip ['WWW']
659: unzip ['WWW.zip']
660: ls []
661: unzip ['WWW.zip']
662: zip ['_test_', 'SSS.zip']
663: unzip ['SSS']
664: unzip ['SSS>zip']
665: unzip ['SSS.zip']
666: zip ['_test_', 'ORG.zip']
667: unzip ['ORG.zip']
668: zip ['DESKTop', 'p', 'E.zip']
669: zip ['DESKTop p', 'E.zip']
670: zip ['GGG', 'GGG.zip']
671: zip ['t1', 't2.zip']
672: ls []
673: kanye []
674: ls []
675: kanye []
676: ls []
677: kanye []
678: ls []
679: kanye []
680: ls []
681: kanye []
682: ls []
683: kanye []
684: ls []
685: kanye []
686: ls []
687: ls ['log.py', 'main.py']
688: ls []
689: kanye []
690: ls []
691: kanye []
692: history ['1']
693: history ['101010']
694: history ['5']
695: hisory ['5432']
696: history ['7654']
