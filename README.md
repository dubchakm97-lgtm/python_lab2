_Данный файл является README.md файлом к лабораторной работе №2 по программированию на Python – реализация мини-оболочки с файловыми командами. В качестве варианта выполнения лабораторной работы был выбран вариант Easy - реализация команд ls, cd, cat, cp, mv, rm, а также логирование каждой команды, введенной пользователем.

Структура репозитория:
1. Папка src: файл main.py представляет собой код программы: мини-оболочка shell с файловыми командами.
2. Папка tests: в файлах test_.py лежат тесты к написанной программе, к каждой команде, реализованной в программе.
3. Файл .gitignore содержит список всех указанных файлов и папок проекта, которые git должен игнорировать и не отслеживать
4. Файл .pre-commit-config.yaml представляет собой фреймворк, который запускает проверку кода и файлов перед их коммитом на наличие ошибок
5. Файл pyproject.toml представляет собой конфигурационный файл программы, в котором заданы его метаданные и зависимости
6. Файл requirements.txt содержит перечень всех зависимостей и библиотек, которые нужны для работы программы
7. Файл uv.lock представляет собой автоматически сгенерированный файл, который фиксирует точные версии всех зависимостей программы

Описание проекта:
Эта программа представляет собой мини-оболочку shell, поддерживающую команды ls (Выводит содержимое текущей директории, при команде -l делает подробный вывод), cd (Меняет текущую директорию), cat (Выводит содержимое указанного файла), cp (Копирует указанный файл или указанную папку), mv (Перемещает или переименовывает файл или папку), rm (Удаляет файл или папку рекурсивно (с помощью команды -r)). Также в функционал программы входит функция log_message, которая записывает в журнал(лог) каждую команду, введенную пользователем, и ошибки, возникшие в случае, если команда оболочки была введена неверно/не по функционалу программы.

Также реализованы автоматические тесты с помощью pytest, покрывающие основные функции:
1. ls
- Ошибка для несуществующего пути (FileNotFoundError).
- Вывод пути, если в аргументах передан файл.
- Список содержимого каталога.
- Формат -l (размер и время изменения).
- Работа по умолчанию в текущей папке.

2. cd
- Переход без аргументов в домашнюю директорию (~).
- Переход в существующую папку.
- Ошибка для несуществующего пути.
- Ошибка при попытке перейти в файл (NotADirectoryError).

3. cat
- Чтение и вывод содержимого текстового файла.
- Ошибка, если файла нет.
- Ошибка, если путь указывает на каталог.

4. cp
- Копирование файла -> файл.
- Копирование файла -> папка.
- Ошибка, если источник не найден.
- Ошибка при копировании папки без -r (IsADirectoryError).
- Копирование папки с -r.

5. mv
- Переименование файла в той же папке.
- Перенос файла в существующую папку.
- Перенос каталога в существующую папку.
- Ошибка, если источник не найден.
- Лог: ERROR: mv ....

6. rm
- Удаление файла при подтверждении y.
- Отмена удаления при ответе n.
- Ошибка при удалении папки без -r (IsADirectoryError).
- Удаление папки с -r (оба варианта: y/n).
- Ошибка для несуществующего пути.
- Лог: успешные операции

7. log
- Запись строки в shell.log.
- Дозапись (файл растёт построчно).
- Поддержка UTF-8.

8. main
- Корректное завершение по quit/exit.
- Выполнение команды (ls) и вывод результата.
- Сообщение о неизвестной команде.
- Аккуратная обработка ошибок команд без падения программы.

Запуск программы:
1. Перейдите в папку проекта:
- cd python-lab2
2. Запустите оболочку:
- python src/main.py
3. Введите одну из команд, указанных выше, в поисковую строку:
- ls/ls -l
- cd/cd {path}
- cat {file}
- cp {source} {destination}
- mv {source} {destination}
- rm {path}/rm -r {folder}
4. Программа выполнит команду и запишет её выполнение в shell.log


В проекте реализованы тесты на основе библиотеки pytest, все тесты находятся в папке tests в файле test_main.py
1. Перейдите в терминал bash
2. Введите команду:
- pytest -v
3. После выполнения всех тестов вы увидите зелёные строки вида:
================ 36 passed in 0.43s ===========
4. Покрытие программы тестами вычислялось с помощью библиотеки pytest-cov и составляет 84%


Допущения вводимых пользователем команд:
1. Команда ls может вводиться без аргументов (простой вывод содержимого директории), с флагом -l (подробный вывод) и с путём path до папки/файла. При вводе несуществующего пути программа выводит ошибку  

2. Команда cat вводится пользователем строго с именем файла, содержимое которого затем будет выведено. При вводе нефайлового объекта/несуществующего файла, а также если пользователь не укажет файл, программа выдаст ошибку.

3. Команда cd вводится либо без аргументов (переход в домашнюю директорию), либо с указанием пути path, по которому пользователь перейдет после выполнения команды. При переходе в несуществующую папку или в объект, не являющийся директорией, программа выдаст ошибку.

4. Команда cp вводится обязательно с двумя аргументами и флагом -r при необходимости: первый аргумент является указателем на то, какой файл/папку нужно скопировать. При копировании папки, пользователь должен ввести флаг -r (рекурсивное копирование), иначе программа выдаст ошибку. Второй аргумент является местом, куда файл/папка должны скопироваться. Если пользователь не укажет один из аргументов, укажет несуществующую папку/файл для копирования, программа также выдаст ошибку. При указании вторым аргументом несуществующего объекта, такой объект автоматически создастся и источник из первого аргумента скопируется без ошибок, если уже существует родительский каталог.

5. Команда mv вводится с двумя аргументами: первый аргумент является указателем на то, какой файл/папку нужно переместить. Второй аргумент является местом, куда файл/папка должны переместиться. Если пользователь не укажет один из аргументов, укажет несуществующую папку/файл для перемещения, программа также выдаст ошибку. При указании вторым аргументом несуществующего объекта, такой объект автоматически создастся и источник из первого аргумента переместится без ошибок в случае, если уже существует родительский каталог.

6. Команда rm в качестве аргумента обязательно должна иметь путь, который указывает на файл/папку, которую нужно удалить. При удалении папки пользователь должен использовать флаг -r для рекурсивного удаления папки, иначе программа выдаст ошибку. При удалении объекта программа уточнит у пользователя, действительно ли он хочет удалить объект, пользователь сможет подтвердить удаление (у), либо отменить удаление объекта (n). Если пользователь в качестве аргумента не укажет файл или папку для удаления, укажет несуществующий объект, корневой каталог или неизвестный объект, программа также выдаст ошибку.